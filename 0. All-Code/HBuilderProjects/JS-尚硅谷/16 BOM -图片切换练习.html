<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<!-- 自动切换图片
		 -->
		<img id="img1" src="images/1.jpg" style="width: 300px; height: 400px;" ><br /><br />
		<button id="btn01">start</button>
		<button id="btn02" type="button">end</button>
		<script>
			//1, 获取img1标签
			var img1 = document.getElementById("img1");
			
			//2， 创建数组保存照片
			var imgArr = ["images/1.jpg","images/2.jpg","images/3.jpg", "images/4.jpg", "images/5.jpg" ];
		
			//3, 创建变量，保存图片变量的索引
			var index = 0;
			
			//5, 为btn01绑定一个单机响应函数
			var btn01 = document.getElementById("btn01");
			var timer;
			btn01.onclick = function(){
				/* 7，修复： 开启一个 定时器，点一次开一次会越来越快 
				并且只能关闭最后一次开启的定时器
				只希望开启一个 ： 开启一个，需要将之前的关闭
				
				关闭的前提： 同一个元素的其他定时器 
				*/
				clearInterval(timer);
				
				//4, 开启定时器，自动切换图片
				timer = setInterval(function(){
						// 4.1 index自增
						index++;
						
						// 4.3 判断是不是超过最大索引，则index = 0 
						if(index >= imgArr.length){
							index = 0;
							//clearInterval(timer);
						}			
						//index %= imgArr.length;
						
						// 4.2 修改img1的src属性
						img1.src = imgArr[index];
				},1000);
				
			};
			
			// 6, 点击按钮关闭
			var btn02 = document.getElementById("btn02");
			btn02.onclick = function(){
				clearInterval(timer);
			}
			
		
			//4,需要关闭定时器
			//4.1 这个参数有一个返回值,作为定时器唯一标识
			//4.2 clearInterval 可以接受任意参数，如果有效，则停止定时器
			//4.3 如果没销，则什么也不做
			//clearInterval(timer);
			// console.log(timer); 
		</script>
	</body>
</html>
